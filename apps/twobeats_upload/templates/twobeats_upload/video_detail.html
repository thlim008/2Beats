{% extends "base.html" %}

{% block content %}
<div class="tb-page">
  <div class="tb-page-inner">

    <header class="tb-video-detail-header">
      <span class="tb-video-label">VIDEO</span>
      <h1 class="tb-video-title">{{ video.video_title }}</h1>
      <p class="tb-video-artist">{{ video.video_singer }}</p>
    </header>

    <section class="tb-video-detail-main">
      <!-- ğŸ”¥ ë©”ì¸ ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ -->
      <div class="tb-video-player-card">
        <video class="tb-video-player" controls>
          <source src="{{ video.video_root.url }}">
          ë¸Œë¼ìš°ì €ê°€ video íƒœê·¸ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        </video>

        <div class="tb-video-stats">
          <div class="tb-video-meta-line">
            <span class="tb-video-views">ì¡°íšŒìˆ˜ {{ video.video_views }}</span>
          </div>

          <div class="tb-video-like-line">
            <span class="tb-like-ikon">ì¢‹ì•„ìš”ìˆ˜ {{ video.video_like_count }}</span>
            <span class="tb-like-count">{{ video.video_like_count }}</span>
          </div>

          <div class="tb-video-tags">
            {% for tag in video.tags.all %}
              <span class="tb-tag-pill">#{{ tag.name }}</span>
            {% empty %}
              <span class="tb-tag-empty">íƒœê·¸ ì—†ìŒ</span>
            {% endfor %}
          </div>
        </div>


        {% if video.video_detail %}
          <p class="tb-video-description">
            {{ video.video_detail }}
          </p>
        {% endif %}
      </div>

      <!-- ğŸ”¥ ì—…ë¡œë” ì •ë³´ (ì¸ë„¤ì¼ ì¹´ë“œ ëŒ€ì‹ ) -->
      <div class="tb-uploader-inline">
        <div class="tb-uploader-avatar">
          {{ video.video_user.username|first|upper }}
        </div>
        <div class="tb-uploader-text">
          <div class="tb-uploader-name">{{ video.video_user.username }}</div>
          <div class="tb-uploader-caption">Uploader</div>
        </div>
      </div>
    </section>

    <footer class="tb-detail-actions">
      <a href="{% url 'twobeats_upload:video_update' video.pk %}" class="tb-link-ghost">ìˆ˜ì •</a>
      <a href="{% url 'twobeats_upload:video_delete' video.pk %}" class="tb-link-ghost"
      onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">ì‚­ì œ
    </a>

    <a href="{% url 'twobeats_upload:video_list' %}" class="tb-link-back">
        â† My Video Space
      </a>
    </footer>

  </div>
{% endblock %}
